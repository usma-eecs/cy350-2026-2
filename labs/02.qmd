---
format: html
title: In-Class Lab 2 (10 points)
description: Analyzing Client-Server Communication with netcat and tcpdump
subtitle: Explore basic client-server communication using netcat (nc) and capture the traffic with tcpdump. Analyze the captured packets to understand the interaction between client and server.
date: 2026-01-14
image: /images/lab02-netcat-tcpdump.png
---

Upon the completion of all activities, have your instructor review your work and track your progress to receive full credit.

## Environment

Write your program in VSCode connected to WSL (Ubuntu). If you have not yet set this up, refer to the instructions in lab 1.

Open three terimnals and display them side-by-side:
1. In the first terminal, run your server program.
2. In the second terminal, run your client program.
3. In the third terminal, use `tcpdump` or `tshark` to capture and display the packets exchanged between client and server. Filter by port number to minimize noise.

## Run Server Program

Use the provided `02-server.py`. Review the code and understand what it does. Run it in the first terminal. Ensure that it is listening on the correct port that you are going to use for the client.

## Verify Server

1. Use `netstat -tuln` or `ss -tuln` to verify that the server is listening on the expected port.
2. Use `nc localhost <port>` to connect to the server and verify it responds correctly.

What does `nc` or `netcat` do?

## Client Program

Use the provided `02-client.py` as a starter. Modify it as needed to connect to the server you started in the first terminal. Run it in the second terminal.

## Capture Traffic

In the third terminal, run `sudo tcpdump -i eth0 ... any port <port>` or `sudo tshark -i any -f "port <port>"` to capture the traffic between the client and server. See lab 1 for `tcpdump` command line flags.  Observe the packets being exchanged. Save your capture to a file for later analysis.

## Analyze Capture

Use Wireshark to open the saved capture file. Analyze the packets exchanged between the client and server. Identify the request and response messages. Note any interesting details about the protocol being used. Reason about how you would distinguish messages from different clients if multiple clients were connected simultaneously.

## Instructor Review

To complete the lab, you must bring up all three terminals and demonstrate the working client-server interaction along with the packet capture to your instructor.
