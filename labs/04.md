# CY350 Lesson 4 In-Class Lab (10 Points)

**Name**:

**Section**:

Upon the completion of all activities, have your instructor review your work and turn-in this sheet to receive credit.

## Environment

Write your program in VSCode connected to WSL (Ubuntu). If you have not yet set this up, refer to the instructions in Lesson 2 lab.

Open three terimnals and display them side-by-side:
1. In the first terminal, run your server program.
2. In the second terminal, run your client program.
3. In the third terminal, use `tcpdump` or `tshark` to capture and display the packets exchanged between client and server. Filter by port number to minimize noise.

## Server Program (2 points)

Use the provided `04-server.py`. Review the code and understand what it does. Run it in the first terminal. Ensure that it is listening on the correct port that you are going to use for the client.

## Verify Server (2 points)

1. Use `netstat -tuln` or `ss -tuln` to verify that the server is listening on the expected port.
2. Use `nc localhost <port>` to connect to the server and verify it responds correctly.

## Client Program (2 points)

Use the provided `04-client.py` as a starter. Modify it as needed to connect to the server you started in the first terminal. Run it in the second terminal.

## Capture Traffic (2 points)

In the third terminal, run `sudo tcpdump -i any port <port>` or `sudo tshark -i any -f "port <port>"` to capture the traffic between the client and server. Observe the packets being exchanged. Save your capture to a file for later analysis.

## Analyze Capture (2 points)

Use Wireshark to open the saved capture file. Analyze the packets exchanged between the client and server. Identify the request and response messages. Note any interesting details about the protocol being used. Reason about how you would distinguish messages from different clients if multiple clients were connected simultaneously.

## Instructor Review

To complete the lab, you must bring up all three terminals and demonstrate the working client-server interaction along with the packet capture to your instructor.
